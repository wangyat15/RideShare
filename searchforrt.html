<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>RideShare Website</title>
  <link rel="icon" href="./images/Logo1.png" sizes="2000x2000" type="image/png">
  <link rel="stylesheet" href="./css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="./js/javascript.js"></script>
  <script src="./js/jquery.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC9mWeGiZ7Ig1M3q-QWmbU6cM0JEx8yF2c&callback=initMap&libraries=places"></script>
  
    
  <script language="javascript" type="text/javascript"> 
    function initMap() {
      if (navigator.geolocation) {    
        navigator.geolocation.getCurrentPosition(function(sPosition){
        vlat = sPosition.coords.latitude;
        vlong = sPosition.coords.longitude;
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 16,
          center: {lat: vlat, lng: vlong}
        });
        var input = document.getElementById('address');
        var autocomplete;
        autocomplete = new google.maps.places.Autocomplete(input), {
          types: ['geocode'],
          componentRestrictions: {
            country: "GERMANY"
          }
        };
        autocomplete.bindTo('bounds', map);

        var marker = new google.maps.Marker({
          map: map,
          anchorPoint: new google.maps.Point(0, -29)
        });

        autocomplete.addListener('place_changed', function() {
          marker.setVisible(false);
          var place = autocomplete.getPlace();
          if (!place.geometry) {
            window.alert("No details available for input: '" + place.name + "'");
            return;
          }

          if (place.geometry.viewport) {
            map.fitBounds(place.geometry.viewport);
          } else {
            map.setCenter(place.geometry.location);
            map.setZoom(17);
          }
          marker.setPosition(place.geometry.location);
          marker.setVisible(true);

          var address = '';
          if (place.address_components) {
            address = [
              (place.address_components[0] && place.address_components[0].short_name || ''),
              (place.address_components[1] && place.address_components[1].short_name || ''),
              (place.address_components[2] && place.address_components[2].short_name || '')
            ].join(' ');
          }
          
          var infowindow = new google.maps.InfoWindow({
            content: '<div><strong>' + address + '</strong><br>' +
                'Latitude: ' + place.geometry.location.lat() + '<br>' +
                'Longitude: ' + place.geometry.location.lng() + '</div>'
          });
          infowindow.open(map, marker);
        });

        /* $(document).ready(function() { 
        setCurrentDate()
        });*/
      });
     }   
       else {
         alert("Geolocation is not supported by this browser.");
     }

    }
       
    function setCurrentDate() {
      var now = new Date();
      var day = ("0" + now.getDate()).slice(-2);
      var month = ("0" + (now.getMonth() + 1)).slice(-2);
      var time = now.getHours()+ ":" + now.getMinutes + ":" + now.getSecond();
      var today = now.getFullYear() + "-" + (month) + "-" + (day);
      $('#today').val(today);
      $('#ctime').val(time);
    }
    </script>

</head>
<body onload="initMap()">
  <header id="mainHeader">
    <div class="container">
        <h1>Ride Share Website : Driver</h1>
    </div>
  </header>
  <nav id="mainNav">
    <div class="container">
      <ul>
        <li><a href="myrideshare.html">MyRideShare</a></li>
        <li><a href="searchforrt.html">SearchForPassenger</a></li>
        <li><a href="addrs.html">AddRideShare</a></li>
        <li><a href="myprofile1.html">MyProfile</a></li>
        <li><a href="signout.html">SignOut</a></li>
      </ul>
    </div>
  </nav>
  <!--
  <section id="jumbo">
    <div class="container">
      <h1>Let's Start a RideShare</h1>
      <p>Sharing a ride has numerous benefits such as reducing traffic congestion and parking demands. Ridesharing also helps to eliminate vehicle emissions and creates less stressful commutes. </p>
    </div>
  </section>
  -->
   
   <div class="container">
    <div id="sideleft">
      <h2>Search for a Passenger</h2>
         <label><span id="lab">Ride Share ID: </span><input type="text" /> </label></br>
        <!--      <form action="#" method="post"> -->
          <label><span id="lab">Date: </span><input type="date" id="today" title="today"/> </label>
          &nbsp;&nbsp;&nbsp;
          <label><span id="lab">Time:</span> <input type="time" id="ctime"/>
            &nbsp;&nbsp;&nbsp;
          <span id="lab">Time within:</span>
            <select>
              <option>15 minutes</option>
              <option selected>30 minutes</option>
              <option>60 minutes</option>
              <option>120 minutes</option>
            </select>
   
          &nbsp;&nbsp;&nbsp;
          <br>
          <span id="lab">Fare,min(&#8364;0-1000): </span><input type="range" min="0" max="1000" value = "100" 
          oninput="this.nextElementSibling.value = this.value" /> 
          <output>100</output>
          &nbsp;&nbsp;&nbsp;
          <span id="lab">Rating min (0-5):</span> <input type="range" min="0" max="5" value = "0" oninput="this.nextElementSibling.value = this.value" /> 
          <output>0</output>
          <br/>
          <span id=lab>Start location:</span> <input type="text" id=address placeholder="Enter starting address" style="width: 350px" maxlength="100"/> 
          <span id="lab">Distance within:</span> 
          <select>
            <option>100m</option>
            <option selected>500m</option>
            <option>1km</option>
            <option>2km</option>
          </select><br/>
  <!--        <a href="index.html" class="button">Search </a></br> -->
          <input type="submit" class="button" value="Search" onclick="return rtvalidate()"/>
          <a href="myrideshare.html" class="button">Return </a></br>
  
          <span id="error_message" style = "color:red"></span>
  <!--      </form> -->

      </div>
      <div id="sideright">
        <div id="map" style="height: 500px;"></div>
      </div>    
    <div id="main">
      <h3>List of Available Passenger, click the link to view the passenger detail and make a request to passenger </h3>
      <table id="table1">
        <tr>
          <th>&nbsp;</th>
          <th>TRide ID (passenger)</th>
          <th>Date</th>
          <th>Time</th>
          <th>Start from</th>
          <th>Destination</th>
          <th>Fare &#8364;</th>
          <th>No. of passengers </th>
          <th>Passenger rating</th>
        </tr>
        <tr>
          <td>1</td>
          <td> <a href="detailrt.html?mid=1">T0001111 </a></td>
          <td> <a href="detailrt.html?mid=1">1 April 2023 </a></td>
          <td> <a href="detailrt.html?mid=1">11:00am </a></td>
          <td> <a href="detailrt.html?mid=1">Jacobs University</a></td>
          <td> <a href="detailrt.html?mid=1">Bremen Airport</a> </td>
          <td> <a href="detailrt.html?mid=1">100 </a></td>
          <td> <a href="detailrt.html?mid=1">3 </a></td>
          <td> <a href="detailrt.html?mid=1">2.0 (10)</a> </td>
        </tr>
        <tr>
          <td>2</td>
          <td> <a href="detailrt.html?mid=1">T0001112 </a></td>
          <td> <a href="detailrt.html?mid=1">1 April 2023 </a></td>
          <td> <a href="detailrt.html?mid=1">11:00am </a></td>
          <td> <a href="detailrt.html?mid=1">Jacobs </a></td>
          <td> <a href="detailrt.html?mid=1">Bremen Airport </a></td>
          <td> <a href="detailrt.html?mid=1">100 </a></td>
          <td> <a href="detailrt.html?mid=1">3 </a></td>
          <td> <a href="detailrt.html?mid=1">5.0 (39)</a> </td>
        </tr>
        <tr>
          <td>3</td>
          <td> <a href="detailrt.html?mid=1">T0001341 </a></td>
          <td> <a href="detailrt.html?mid=2">1 April 2023 </a></td>
          <td> <a href="detailrt.html?mid=2">11:00am</a> </td>
          <td> <a href="detailrt.html?mid=2">Jacobs University</a></td>
          <td> <a href="detailrt.html?mid=2">Bremen</a></td>
          <td> <a href="detailrt.html?mid=1">100 </a></td>
          <td> <a href="detailrt.html?mid=1">3 </a></td>
          <td> <a href="detailrt.html?mid=1">3.8 (132)</a> </td>
        </tr>
        <tr>
          <td>4</td>
          <td> <a href="detailrt.html?mid=1">T0004511 </a></td>
          <td> <a href="detailrt.html?mid=3">1 April 2023 </a></td>
          <td> <a href="detailrt.html?mid=3">12:00am</a> </td>
          <td> <a href="detailrt.html?mid=3">Jacobs University</a></td>
          <td> <a href="detailrt.html?mid=3">Brement University</a> </td>
          <td> <a href="detailrt.html?mid=1">100 </a></td>
          <td> <a href="detailrt.html?mid=1">3 </a></td>
          <td> <a href="detailrt.html?mid=1">3.8 (132)</a> </td>
        </tr>
        <tr>
          <td>5</td>
          <td> <a href="detailrt.html?mid=1">T0061111 </a></td>
          <td> <a href="detailrt.html?mid=4">2 April 2023 </a></td>
          <td> <a href="detailrt.html?mid=4">1:45pm </a></td>
          <td> <a href="detailrt.html?mid=4">Jacobs University</a></td>
          <td> <a href="detailrt.html?mid=4">Bremen Main Station</a></td>
          <td> <a href="detailrt.html?mid=1">100 </a></td>
          <td> <a href="detailrt.html?mid=1">3 </a></td>
          <td> <a href="detailrt.html?mid=1">3.8 (132)</a> </td>
        </tr>
        <tr>
          <td>6</td>
          <td> <a href="detailrt.html?mid=1">T0079901 </a></td>
          <td> <a href="detailrt.html?mid=5">2 April 2023 </a></td>
          <td> <a href="detailrt.html?mid=5">3:00pm </a></td>
          <td> <a href="detailrt.html?mid=5">Jacobs University</a></td>
          <td> <a href="detailrt.html?mid=5">Bremen Airport </a></td>
          <td> <a href="detailrt.html?mid=1">100 </a></td>
          <td> <a href="detailrt.html?mid=1">3 </a></td>
          <td> <a href="detailrt.html?mid=1">4.0 (30)</a> </td>
        </tr>
      </table>
    </div>
  </div>

  
  <footer id="mainFooter">
    <p>Copyright &copy; 2023 RideShare Website  </p>
    <p>Imprint</p>
    <p>This website is student lab work and does not necessarily reflect Constructor University Bremen opinions. Constructor University Bremen does not endorse this site, nor is it checked by Constructor University regularly, nor is it part of the official Constructor University Bremen web presence. </p>
  </footer>
</body>
</html>